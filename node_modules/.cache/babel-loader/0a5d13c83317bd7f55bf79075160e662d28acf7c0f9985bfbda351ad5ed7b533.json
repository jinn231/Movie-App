{"ast":null,"code":"import { FETCH_DATA_SUCCESSFUL, FETCH_DATA_FAILED, SEARCH_DATA_SUCCESS, SEARCH_DATA_FAILED, VIEW_MOVIE_DETAILS_SUCCESS, VIEW_MOVIE_DETAILS_FAILED } from \"./Type\";\nimport axios from \"axios\";\n\n// This action is to get the latest data from Api\nexport const get_data = page => async dispatch => {\n  try {\n    const response = await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=c3045cd7474e23e62141844203a89916&language=en-US&page=${page}`);\n    const tempArr = [];\n    for (let i = 1; i < response.data.results.length; i++) {\n      tempArr.push(response.data.results[i]);\n    }\n    dispatch({\n      type: FETCH_DATA_SUCCESSFUL,\n      payload: tempArr\n    });\n  } catch (err) {\n    dispatch({\n      type: FETCH_DATA_FAILED\n    });\n  }\n};\n\n// This function is to get the searched movie from Api\n// query value will be come from Searchbar component\nexport const search_data = (query, page) => async dispatch => {\n  try {\n    const response = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=c3045cd7474e23e62141844203a89916&language=en-US&page=${page}&include_adult=true&query=${query}&video=false`);\n    const tempArr = [];\n    for (let i = 1; i < response.data.results.length; i++) {\n      tempArr.push(response.data.results[i]);\n    }\n    dispatch({\n      type: SEARCH_DATA_SUCCESS,\n      payload: tempArr,\n      query: query\n    });\n  } catch (error) {\n    dispatch({\n      type: SEARCH_DATA_FAILED\n    });\n  }\n};\n\n// This action is to get the movie detail and adv video from api\nexport const selecting_movie = movie => async dispatch => {\n  try {\n    const id = movie ? movie.id : 411;\n    const response = await axios.get(`https://api.themoviedb.org/3/movie/${id}/videos?api_key=c3045cd7474e23e62141844203a89916&language=en-US`);\n    console.log(id);\n    movie.get_mv = response.data.results[0];\n    dispatch({\n      type: VIEW_MOVIE_DETAILS_SUCCESS,\n      payload: movie\n    });\n  } catch (error) {\n    dispatch({\n      type: VIEW_MOVIE_DETAILS_FAILED\n    });\n  }\n};","map":{"version":3,"names":["FETCH_DATA_SUCCESSFUL","FETCH_DATA_FAILED","SEARCH_DATA_SUCCESS","SEARCH_DATA_FAILED","VIEW_MOVIE_DETAILS_SUCCESS","VIEW_MOVIE_DETAILS_FAILED","axios","get_data","page","dispatch","response","get","tempArr","i","data","results","length","push","type","payload","err","search_data","query","error","selecting_movie","movie","id","console","log","get_mv"],"sources":["/home/jinn/My PC/Movie/myapp/src/action/Action.js"],"sourcesContent":["import { FETCH_DATA_SUCCESSFUL, FETCH_DATA_FAILED, SEARCH_DATA_SUCCESS, SEARCH_DATA_FAILED, VIEW_MOVIE_DETAILS_SUCCESS, VIEW_MOVIE_DETAILS_FAILED } from \"./Type\";\r\nimport axios from \"axios\";\r\n\r\n// This action is to get the latest data from Api\r\nexport const get_data = (page) => async dispatch => {\r\n    try{\r\n\r\n        const response = await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=c3045cd7474e23e62141844203a89916&language=en-US&page=${page}` )\r\n        \r\n        const tempArr = []\r\n\r\n        for(let i =1; i < response.data.results.length; i++){\r\n            tempArr.push(response.data.results[i])\r\n        }\r\n\r\n        dispatch({\r\n            type: FETCH_DATA_SUCCESSFUL,\r\n            payload: tempArr\r\n        })\r\n\r\n    }catch(err){\r\n        dispatch({\r\n            type: FETCH_DATA_FAILED\r\n        })\r\n    }\r\n}\r\n\r\n// This function is to get the searched movie from Api\r\n// query value will be come from Searchbar component\r\nexport const search_data = (query, page) => async dispatch => {\r\n\r\n    try {\r\n        \r\n        const response = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=c3045cd7474e23e62141844203a89916&language=en-US&page=${page}&include_adult=true&query=${query}&video=false`)\r\n\r\n        const tempArr = []\r\n\r\n        for(let i =1; i < response.data.results.length; i++){\r\n            tempArr.push(response.data.results[i]) \r\n        }\r\n\r\n        dispatch({\r\n            type: SEARCH_DATA_SUCCESS,\r\n            payload: tempArr,\r\n            query: query\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: SEARCH_DATA_FAILED,\r\n        })\r\n    }\r\n}\r\n\r\n// This action is to get the movie detail and adv video from api\r\nexport const selecting_movie = (movie) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const id = movie ? movie.id : 411\r\n        \r\n        const response = await axios.get(`https://api.themoviedb.org/3/movie/${id}/videos?api_key=c3045cd7474e23e62141844203a89916&language=en-US`)\r\n\r\n        console.log(id)\r\n        movie.get_mv = response.data.results[0]\r\n\r\n        dispatch({\r\n            type: VIEW_MOVIE_DETAILS_SUCCESS,\r\n            payload: movie,\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: VIEW_MOVIE_DETAILS_FAILED\r\n        })\r\n    }\r\n\r\n}"],"mappings":"AAAA,SAASA,qBAAqB,EAAEC,iBAAiB,EAAEC,mBAAmB,EAAEC,kBAAkB,EAAEC,0BAA0B,EAAEC,yBAAyB,QAAQ,QAAQ;AACjK,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AACA,OAAO,MAAMC,QAAQ,GAAIC,IAAI,IAAK,MAAMC,QAAQ,IAAI;EAChD,IAAG;IAEC,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAE,2GAA0GH,IAAK,EAAE,CAAC;IAEpJ,MAAMI,OAAO,GAAG,EAAE;IAElB,KAAI,IAAIC,CAAC,GAAE,CAAC,EAAEA,CAAC,GAAGH,QAAQ,CAACI,IAAI,CAACC,OAAO,CAACC,MAAM,EAAEH,CAAC,EAAE,EAAC;MAChDD,OAAO,CAACK,IAAI,CAACP,QAAQ,CAACI,IAAI,CAACC,OAAO,CAACF,CAAC,CAAC,CAAC;IAC1C;IAEAJ,QAAQ,CAAC;MACLS,IAAI,EAAElB,qBAAqB;MAC3BmB,OAAO,EAAEP;IACb,CAAC,CAAC;EAEN,CAAC,QAAMQ,GAAG,EAAC;IACPX,QAAQ,CAAC;MACLS,IAAI,EAAEjB;IACV,CAAC,CAAC;EACN;AACJ,CAAC;;AAED;AACA;AACA,OAAO,MAAMoB,WAAW,GAAGA,CAACC,KAAK,EAAEd,IAAI,KAAK,MAAMC,QAAQ,IAAI;EAE1D,IAAI;IAEA,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAE,0GAAyGH,IAAK,6BAA4Bc,KAAM,cAAa,CAAC;IAEhM,MAAMV,OAAO,GAAG,EAAE;IAElB,KAAI,IAAIC,CAAC,GAAE,CAAC,EAAEA,CAAC,GAAGH,QAAQ,CAACI,IAAI,CAACC,OAAO,CAACC,MAAM,EAAEH,CAAC,EAAE,EAAC;MAChDD,OAAO,CAACK,IAAI,CAACP,QAAQ,CAACI,IAAI,CAACC,OAAO,CAACF,CAAC,CAAC,CAAC;IAC1C;IAEAJ,QAAQ,CAAC;MACLS,IAAI,EAAEhB,mBAAmB;MACzBiB,OAAO,EAAEP,OAAO;MAChBU,KAAK,EAAEA;IACX,CAAC,CAAC;EAEN,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZd,QAAQ,CAAC;MACLS,IAAI,EAAEf;IACV,CAAC,CAAC;EACN;AACJ,CAAC;;AAED;AACA,OAAO,MAAMqB,eAAe,GAAIC,KAAK,IAAK,MAAMhB,QAAQ,IAAI;EAExD,IAAI;IAEA,MAAMiB,EAAE,GAAGD,KAAK,GAAGA,KAAK,CAACC,EAAE,GAAG,GAAG;IAEjC,MAAMhB,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAE,sCAAqCe,EAAG,iEAAgE,CAAC;IAE3IC,OAAO,CAACC,GAAG,CAACF,EAAE,CAAC;IACfD,KAAK,CAACI,MAAM,GAAGnB,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC;IAEvCN,QAAQ,CAAC;MACLS,IAAI,EAAEd,0BAA0B;MAChCe,OAAO,EAAEM;IACb,CAAC,CAAC;EAEN,CAAC,CAAC,OAAOF,KAAK,EAAE;IACZd,QAAQ,CAAC;MACLS,IAAI,EAAEb;IACV,CAAC,CAAC;EACN;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}